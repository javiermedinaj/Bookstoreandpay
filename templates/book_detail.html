{% extends 'layout.html' %} {% block title %}{{ libro.titulo }}{% endblock %} {%
block content %}
<div class="max-w-4xl mx-auto bg-white shadow-md rounded-lg overflow-hidden">
  <div class="md:flex">
    <div class="md:w-1/3">
      {% if libro.imagen %}
      <img
        src="{{ url_for('static', filename='imgs/' + libro.imagen) }}"
        alt="{{ libro.titulo }}"
        class="w-full h-full object-cover md:h-96"
      />
      {% else %}
      <div
        class="flex items-center justify-center h-64 md:h-96 w-full bg-gray-100 text-gray-400"
      >
        <i class="fas fa-book text-6xl"></i>
      </div>
      {% endif %}
    </div>
    <div class="p-6 md:w-2/3">
      <div class="flex justify-between items-start">
        <div>
          <h1 class="text-3xl font-bold text-gray-800 mb-1">
            {{ libro.titulo }}
          </h1>
          <p class="text-lg text-gray-600 mb-3">by {{ libro.autor }}</p>
        </div>
        <span class="text-2xl font-bold text-emerald-700"
          >${{ libro.precio }}</span
        >
      </div>

      <div class="mb-4">
        <span
          class="inline-block bg-emerald-100 text-emerald-800 text-sm px-2 py-1 rounded-full"
        >
          {{ libro.categoria }}
        </span>
        {% if libro.stock|int > 10 %}
        <span
          class="inline-block bg-emerald-100 text-emerald-700 text-sm px-2 py-1 rounded-full ml-2"
        >
          <i class="fas fa-check-circle mr-1"></i> In stock
        </span>
        {% elif libro.stock|int > 0 %}
        <span
          class="inline-block bg-amber-100 text-amber-700 text-sm px-2 py-1 rounded-full ml-2"
        >
          <i class="fas fa-exclamation-circle mr-1"></i> Low stock ({{
          libro.stock }} left)
        </span>
        {% else %}
        <span
          class="inline-block bg-red-100 text-red-700 text-sm px-2 py-1 rounded-full ml-2"
        >
          <i class="fas fa-times-circle mr-1"></i> Out of stock
        </span>
        {% endif %}
      </div>

      <div class="my-6">
        <h3 class="text-xl font-semibold text-gray-800 mb-2">Description</h3>
        <div class="text-gray-600 prose">
          {{ libro.descripcion_completa|safe }}
        </div>
      </div>

      <div class="mt-8">
        <button
          class="bg-emerald-600 hover:bg-emerald-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 transition {% if libro.stock <= 0 %}opacity-50 cursor-not-allowed{% endif %}"
        >
          <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
        </button>
        <a href="/" class="ml-3 text-emerald-600 hover:text-emerald-800">
          <i class="fas fa-arrow-left mr-1"></i> Back to Books
        </a>
      </div>
    </div>
  </div>
</div>

<!-- <div class="max-w-4xl mx-auto mt-8">
  <h3 class="text-xl font-semibold text-gray-800 mb-4">You may also like</h3>
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
  </div>
</div> -->
{% endblock %}
